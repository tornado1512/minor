create database minor;

use minor;

create table owner
(
owner_id int not null auto_increment primary key,
owner_name varchar(50) not null unique,
email varchar(50) not null unique,
password varchar(100) not null
);

create table cities
(
city_id int not null auto_increment primary key,
city_name varchar(50) not null unique
);

create table categories
(
categ_id int not null auto_increment primary key,
categ_name varchar(30) not null
);

create table rest
(
rest_id int not null auto_increment primary key,
rest_name varchar(50) not null unique,
rest_address varchar(50) not null unique,
rest_contact int(15)  not null unique,
owner_id int not null,
city_id int not null,
constraint fk_owner_rest foreign key (owner_id) references owner (owner_id),
constraint fk_cities_rest foreign key (city_id) references cities (city_id)
);

create table rest_pics
(
rest_pic_id int not null auto_increment primary key,
pic_path varchar(100) not null unique,
pic_details varchar(1000) not null,
rest_id int not null,
constraint fk_rest_rest_pics foreign key (rest_id) references rest (rest_id) 
);

create table restCategories
(
rest_categ_id int not null auto_increment primary key,
rest_id int not null ,
categ_id int not null,
constraint fk_rest_restCategories foreign key (rest_id) references rest (rest_id),
constraint fk_categories_restCategories foreign key (categ_id) references categories (categ_id)
);

create table food
(
food_id int not null auto_increment primary key,
food_name varchar(30) not null ,
categ_id int not null,
constraint fk_categories_food foreign key (categ_id) references categories(categ_id)
);

create table restfood
(
restfood_id int not null auto_increment primary key,
rest_categ_id int not null,
food_id int not null,
food_price int(255) not null,
constraint fk_restcategories_restfood foreign key (rest_categ_id) references restcategories(rest_categ_id),
constraint fk_food_restfood foreign key (food_id) references food(food_id)
);
create table user
(
user_id int not null auto_increment primary key,
user_name varchar(50) not null unique,
email varchar(50) not null unique,
password varchar(100) not null
);

