create database minor;

use minor;

create table owner
(
owner_id int not null auto_increment primary key,
owner_name varchar(50) not null unique,
email varchar(50) not null unique,
password varchar(100) not null
);

create table city
(
city_id int not null auto_increment primary key,
city_name varchar(50) not null unique
);

create table category
(
category_id int not null auto_increment primary key,
category_name varchar(30) not null
);

create table restaurant
(
rest_id int not null auto_increment primary key,
rest_name varchar(50) not null unique,
rest_address varchar(50) not null unique,
rest_contact int(15)  not null unique,
rest_image varchar(50) not null unique,
owner_id int not null,
city_id int not null,
constraint fk_owner_restaurant foreign key (owner_id) references owner (owner_id),
constraint fk_city_restaurant foreign key (city_id) references city (city_id)
);

create table restCategory
(
rest_categ_id int not null auto_increment primary key,
rest_id int not null ,
category_id int not null,
constraint fk_restaurant_restCategory foreign key (rest_id) references restaurant (rest_id),
constraint fk_category_restCategory foreign key (category_id) references category (category_id)
);

create table food
(
food_id int not null auto_increment primary key,
food_name varchar(30) not null ,
food_price int not null ,
rest_categ_id int not null,
constraint fk_restCategory_food foreign key (rest_categ_id) references restCategory (rest_categ_id)
);

create table user
(
user_id int not null auto_increment primary key,
user_name varchar(50) not null unique,
email varchar(50) not null unique,
password varchar(100) not null
);

